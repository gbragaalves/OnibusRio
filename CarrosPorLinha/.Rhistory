trips_51_0 <- trips %>% filter(trip_id_dir == '51_0')
shape_51_0 <- shape %>% filter(shape_id %in% trips_51_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_51_0 <- stop_sequence %>% filter(route_id_dir == '51_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_51_0) + mapview(stops_51_0, zcol = 'active')
trips_25A_1 <- trips %>% filter(trip_id_dir == '25A_1')
shape_25A_1 <- shape %>% filter(shape_id %in% trips_25A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_25A_1 <- stop_sequence %>% filter(route_id_dir == '25A_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_25A_1) + mapview(stops_25A_1, zcol = 'active')
trips_35A_1 <- trips %>% filter(trip_id_dir == '35A_1')
shape_35A_1 <- shape %>% filter(shape_id %in% trips_35A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_35A_1 <- stop_sequence %>% filter(route_id_dir == '35A_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_35A_1) + mapview(stops_35A_1, zcol = 'active')
trips_35A_0 <- trips %>% filter(trip_id_dir == '35A_0')
shape_35A_0 <- shape %>% filter(shape_id %in% trips_35A_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_35A_0 <- stop_sequence %>% filter(route_id_dir == '35A_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_35A_0) + mapview(stops_35A_0, zcol = 'active')
trips_38A_1 <- trips %>% filter(trip_id_dir == '38A_1')
shape_38A_1 <- shape %>% filter(shape_id %in% trips_38A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_38A_1 <- stop_sequence %>% filter(route_id_dir == '38A_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_38A_1) + mapview(stops_38A_1, zcol = 'active')
trips_38A_0 <- trips %>% filter(trip_id_dir == '38A_0')
shape_38A_0 <- shape %>% filter(shape_id %in% trips_38A_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_38A_0 <- stop_sequence %>% filter(route_id_dir == '38A_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_38A_0) + mapview(stops_38A_0, zcol = 'active')
trips_38A_1 <- trips %>% filter(trip_id_dir == '38A_1')
shape_38A_1 <- shape %>% filter(shape_id %in% trips_38A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_38A_1 <- stop_sequence %>% filter(route_id_dir == '38A_1') %>% left_join(., stops) %>% st_as_sf()
trips_40A_1 <- trips %>% filter(trip_id_dir == '40A_1')
shape_40A_1 <- shape %>% filter(shape_id %in% trips_40A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_40A_1 <- stop_sequence %>% filter(route_id_dir == '40A_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_40A_1) + mapview(stops_40A_1, zcol = 'active')
trips_40A_0 <- trips %>% filter(trip_id_dir == '40A_0')
shape_40A_0 <- shape %>% filter(shape_id %in% trips_40A_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_40A_0 <- stop_sequence %>% filter(route_id_dir == '40A_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_40A_0) + mapview(stops_40A_0, zcol = 'active')
trips_42A_1 <- trips %>% filter(trip_id_dir == '42A_1')
shape_42A_1 <- shape %>% filter(shape_id %in% trips_42A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_42A_1 <- stop_sequence %>% filter(route_id_dir == '42A_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_42A_1) + mapview(stops_42A_1, zcol = 'active')
trips_42A_0 <- trips %>% filter(trip_id_dir == '42A_0')
shape_42A_0 <- shape %>% filter(shape_id %in% trips_42A_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_42A_0 <- stop_sequence %>% filter(route_id_dir == '42A_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_42A_0) + mapview(stops_42A_0, zcol = 'active')
trips_51A_1 <- trips %>% filter(trip_id_dir == '51A_1')
shape_51A_1 <- shape %>% filter(shape_id %in% trips_51A_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_51A_1 <- stop_sequence %>% filter(route_id_dir == '51A_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_51A_1) + mapview(stops_51A_1, zcol = 'active')
trips_51A_0 <- trips %>% filter(trip_id_dir == '51A_0')
shape_51A_0 <- shape %>% filter(shape_id %in% trips_51A_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_51A_0 <- stop_sequence %>% filter(route_id_dir == '51A_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_51A_0) + mapview(stops_51A_0, zcol = 'active')
source('~/.active-rstudio-document')
trips_10_1 <- trips %>% filter(trip_id_dir == '10_1')
shape_10_1 <- shape %>% filter(shape_id %in% trips_10_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_10_1 <- stop_sequence %>% filter(route_id_dir == '10_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_10_1) + mapview(stops_10_1, zcol = 'active')
leaflet::leafletMap(shape_10_1) + leaflet::leafletMap(stops_10_1, zcol = 'active')
install.packages("leaflet")
leaflet(shape_10_1) + leaflet(stops_10_1, zcol = 'active')
library(leaflet)
leaflet(shape_10_1) + leaflet(stops_10_1, zcol = 'active')
leaflet(shape_10_1) + leaflet(stops_10_1, zcol = 'active')
leaflet(shape_10_1)
mapview(shape_10_1) + mapview(stops_10_1, zcol = 'active')
trips_10_0 <- trips %>% filter(trip_id_dir == '10_0')
shape_10_0 <- shape %>% filter(shape_id %in% trips_10_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_10_0 <- stop_sequence %>% filter(route_id_dir == '10_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_10_0) + mapview(stops_10_0, zcol = 'active')
trips_19_1 <- trips %>% filter(trip_id_dir == '19_1')
shape_19_1 <- shape %>% filter(shape_id %in% trips_19_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_19_1 <- stop_sequence %>% filter(route_id_dir == '19_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_19_1) + mapview(stops_19_1, zcol = 'active')
trips_19_0 <- trips %>% filter(trip_id_dir == '19_0')
shape_19_0 <- shape %>% filter(shape_id %in% trips_19_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_19_0 <- stop_sequence %>% filter(route_id_dir == '19_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_19_0) + mapview(stops_19_0, zcol = 'active')
trips_31_1 <- trips %>% filter(trip_id_dir == '31_1')
shape_31_1 <- shape %>% filter(shape_id %in% trips_31_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_31_1 <- stop_sequence %>% filter(route_id_dir == '31_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_31_1) + mapview(stops_31_1, zcol = 'active')
trips_31_0 <- trips %>% filter(trip_id_dir == '31_0')
shape_31_0 <- shape %>% filter(shape_id %in% trips_31_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_31_0 <- stop_sequence %>% filter(route_id_dir == '31_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_31_0) + mapview(stops_31_0, zcol = 'active')
trips_51_1 <- trips %>% filter(trip_id_dir == '51_1')
shape_51_1 <- shape %>% filter(shape_id %in% trips_51_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_51_1 <- stop_sequence %>% filter(route_id_dir == '51_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_51_1) + mapview(stops_51_1, zcol = 'active')
trips_51_0 <- trips %>% filter(trip_id_dir == '51_0')
shape_51_0 <- shape %>% filter(shape_id %in% trips_51_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_51_0 <- stop_sequence %>% filter(route_id_dir == '51_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_51_0) + mapview(stops_51_0, zcol = 'active')
trips_50_1 <- trips %>% filter(trip_id_dir == '50_1')
shape_50_1 <- shape %>% filter(shape_id %in% trips_50_1$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_50_1 <- stop_sequence %>% filter(route_id_dir == '50_1') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_50_1) + mapview(stops_50_1, zcol = 'active')
trips_50_0 <- trips %>% filter(trip_id_dir == '50_0')
shape_50_0 <- shape %>% filter(shape_id %in% trips_50_0$shape_id) %>%
group_by(shape_id) %>%
summarise(do_union = FALSE) %>%
st_cast("LINESTRING")
stops_50_0 <- stop_sequence %>% filter(route_id_dir == '50_0') %>% left_join(., stops) %>% st_as_sf()
mapview(shape_50_0) + mapview(stops_50_0, zcol = 'active')
shiny::runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
linhas <- rgdal::readOGR(dsn = wd, layer="Linhas", stringsAsFactors = FALSE, encoding = "ISO 8859-1")
wd <- getwd()
linhas <- rgdal::readOGR(dsn = wd, layer="Linhas", stringsAsFactors = FALSE, encoding = "ISO 8859-1")
library(shiny)
library(DT)
library(leaflet)
library(leaflet.extras)
library(dplyr)
wd <- getwd()
linhas <- rgdal::readOGR(dsn = wd, layer="Linhas", stringsAsFactors = FALSE, encoding = "ISO 8859-1")
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
shiny::runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
library(sf)
Edific <- st_read("~/Edificacoes.shp", stringsAsFactors = F)
Edific <- st_read("D:/ImportacaoCG/Edificacoes.shp", stringsAsFactors = F)
Edific$id <- row.names(Edific)
Edific$height <- Edific$ALTURA
Edific$ele <- Edific$BASE + 4.37
Edific <- st_read("D:/ImportacaoCG/Edificacoes2.shp", stringsAsFactors = F)
Edific$id <- row.names(Edific)
Edific$height <- Edific$ALTURA
Edific$ele <- Edific$BASE + 4.37
a <- st_covers(Edific, Edific, sparse = TRUE)
b <- as.data.frame(a)
colnames(b) <- c('Pol1','Pol2')
c <- b[b$Pol1 != b$Pol2,]
Edific$layer[Edific$id %in% c$Pol1] <- 1
Edific$layer[Edific$id %in% c$Pol2] <- 1
Edific$altura <- Edific$ele + Edific$height
for (i in 1:nrow(c)){
f <- c$Pol1[i]
g <- c$Pol2[i]
if (Edific$altura[f]>Edific$altura[g]){
if (Edific$layer[f]<=Edific$layer[g]){
Edific$layer[Edific$id==f] <- Edific$layer[Edific$id==g]+1
}
} else {
if (Edific$layer[Edific$id==g]<=Edific$layer[Edific$id==f]){
Edific$layer[Edific$id==g] <- Edific$layer[Edific$id==f]+1
}
}
}
for (i in 1:nrow(c)){
f <- c$Pol1[i]
g <- c$Pol2[i]
if (Edific$altura[Edific$id==f]>Edific$altura[Edific$id==g]){
if (Edific$layer[Edific$id==f]<=Edific$layer[Edific$id==g]){
Edific$layer[Edific$id==f] <- Edific$layer[Edific$id==g]+1
}
} else {
if (Edific$layer[Edific$id==g]<=Edific$layer[Edific$id==f]){
Edific$layer[Edific$id==g] <- Edific$layer[Edific$id==f]+1
}
}
}
Edific$layer <- as.integer(Edific$layer)
Edific <- subset(Edific, select=c(height,ele,layer))
View(Edific)
st_write(Edific, "D:/ImportacaoCG/Edificios3.shp",delete_dsn = T)
??list.files
NomeConsorcio <- "Santa Cruz"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),pattern = "shp")
library(rgdal)
library(rgeos)
library(dplyr)
i = 1
Shape <- Consorcio[i]
Shape <- readogr(Consorcio[i])
Shape <- readOGR(Consorcio[i])
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = "shp",full.names = T)
i = 1
Shape <- readOGR(Consorcio[i])
View(Shape)
plot(Shape)
View(Shape)
Shape <- gUnaryUnion(Shape, id = Shape@data$codigo)
??gUnaryUnion
?gUnaryUnion
library(rgeos)
library(rgeos)
library(rgeos)
install.packages("rgeos")
library(rgeos)
Shape <- gUnaryUnion(Shape, id = Shape@data$codigo)
Shape <- aggregate(Shape, by = Shape@data$codigo, dissolve = T)
?st_combine
??st_combine
Shape <- st_combine(Shape, by = Shape@data$codigo)
library(sf)
Shape <- st_combine(Shape, by = Shape@data$codigo)
Shape <- st_combine(Shape, by = Shape@data$codigo)
Shape <- st_combine(Shape, by_feature = Shape@data$codigo)
View(Shape)
Shape <- st_union(Shape, by_feature = Shape@data$codigo)
?sf
Shape <- read_sf(Consorcio[i])
Shape <- st_combine(Shape, by_feature = Shape@data$codigo)
?st_combine
Shape <- st_combine(Shape, by_feature = Shape$codigo)
Shape <- st_union(Shape, by_feature = Shape$codigo)
Shape <- st_union(Shape)
View(Shape)
writeOGR(Shape, Consorcio[i], overwrite_layer = T)
writeOGR(Shape, Consorcio[i], overwrite_layer = T, driver = "ESRI Shapefile")
Shape <- read_sf(Consorcio[i])
Shape <- st_combine(Shape)
writeOGR(Shape, Consorcio[i], overwrite_layer = T, driver = "ESRI Shapefile")
st_combine()
?st_combine
Shape <- st_combine(Shape, by_feature=T)
Shape <- read_sf(Consorcio[i])
Shape <- st_combine(Shape, by_feature=T)
Shape <- st_combine(Shape, by_feature=T)
Shape <- st_union(Shape, by_feature=T)
library(raster)
Shape <- aggregate(Shape)
Shape <- raster::aggregate(Shape)
Shape <- read_sf(Consorcio[i])
Shape <- raster::aggregate(Shape)
??aggregate
View(Shape)
Shape <- raster::aggregate(Shape, by=c(codigo,sentido))
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"))
Shape <- raster::aggregate(Shape, fun=sum, by=c("codigo","sentido"))
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"), sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"), dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"), fun=sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"), fun=sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by="codigo", fun=sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by="codigo", FUN=sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by="codigo", FUN=sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by="codigo", sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by="codigo", mean, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by="codigo", mean, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"), mean, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=c("codigo","sentido"), mean, dissolve=TRUE)
a <- c("codigo","sentido")
Shape <- raster::aggregate(Shape, by=a, mean, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=list("codigo","sentido"), mean, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=list("codigo","sentido"), dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=list("codigo","sentido"), sums, dissolve=TRUE)
Shape <- raster::aggregate(Shape, by=list("codigo","sentido"), sum, dissolve=TRUE)
Shape <- gUnaryUnion(Shape, id = Shape$codigo)
Shape <- read_sf(Consorcio[i])
Shape <- gUnaryUnion(Shape, id = Shape$codigo)
Shape <- readOGR(Consorcio[i])
Shape <- gUnaryUnion(Shape, id = Shape$codigo)
Shape <- read_sf(Consorcio[i])
View(Shape)
Shape <- st_combine(Shape, id = Shape$codigo)
Shape <- st_combine(Shape)
write_sf
?write_sf
write_sf(Shape, Consorcio[i], overwrite = T)
View(Shape)
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = "shp")
Consorcio[i]
Shape$linha <- Consorcio[i]
View(Shape)
write_sf(Shape, Consorcio[i], overwrite = T)
write_sf(Shape, Consorcio[i], overwrite = T)
View(Shape)
Shape@data$linha <- Consorcio[i]
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape$linha <- Consorcio[i]
View(Shape)
Shape <- st_combine(Shape)
View(Shape)
write_sf(Shape, Consorcio[i], overwrite = T)
for (i in 2:lenght(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, Consorcio[i], overwrite = T)
}
for (i in 2:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, Consorcio[i], overwrite = T)
}
View(Shape)
View(Shape)
plot(Shape)
write_sf(Shape, Consorcio[i], overwrite = T)
for (i in 2:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Intersul"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = "shp")
for (i in 2:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Intersul"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
Consorcio[1]
Consorcio[8]
?list.files
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Internorte"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Transcarioca"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Santa Cruz"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), shape_restore_shx=YES)
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), shape_restore_shx=YES)
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Santa Cruz"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), shape_restore_shx=YES)
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Santa Cruz"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
NomeConsorcio <- "Santa Cruz"
Consorcio <- list.files(path = paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",NomeConsorcio),
pattern = ".shp$")
for (i in 1:length(Consorcio)){
Shape <- read_sf(paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]))
Shape <- st_combine(Shape)
write_sf(Shape, paste0("D:/Onibus/Onibus Municipais do Rio de Janeiro/Shapefiles/PDTU/",
NomeConsorcio,"/",Consorcio[i]), overwrite = T)
}
library(rgdal)
library(dplyr)
library(sf)
library(raster)
shiny::runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
shiny::runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
?addPolylines
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
?setView
?fitBounds
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
shiny::runApp('D:/ItinerariosSPPO/ItinerariosSPPO')
shiny::runApp('D:/Onibus/Onibus Municipais do Rio de Janeiro/Dados/CarrosPorLinha')
rio_buffer <- rgdal::readOGR(dsn="D:/Onibus/Onibus Municipais do Rio de Janeiro/Dados/Shapefiles", layer="Rio_buffer", stringsAsFactors = FALSE)
mapView(rio_buffer)
library(mapview)
mapView(rio_buffer)
runApp('D:/Onibus/Onibus Municipais do Rio de Janeiro/Dados/CarrosPorLinha')
